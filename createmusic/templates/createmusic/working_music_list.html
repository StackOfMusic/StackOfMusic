{% extends 'StackOfMusic/base.html' %}
{% load staticfiles %}

<!doctype html>
<html lang="ko">
<head>
    {% block content %}

    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>SOM</title>
    <!-- Bootstrap core CSS -->
    <link href="{% static "StackOfMusic/vendor/bootstrap/css/bootstrap.css" %}" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i"
          rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="{% static "StackOfMusic/css/business-casual.css" %}" rel="stylesheet">


    <script src="//cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/1.4.0/wavesurfer.min.js"></script>
    <script src="https://unpkg.com/wavesurfer.js"></script>
    <script src="../../../static/js/wavesurfer.js"></script>
    <section class="links">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/1.1.10/wavesurfer.min.js"></script>
    </section>
    <style>
        section {
            width: 100%;

        }
        section.left {
            width: 20%;
            overflow: hidden;
            float: left;
            background-color: white;
            box-sizing: border-box;
        }
        section.right {
            width: 20%;
            float: right;
            box-sizing: border-box;
            background-color: #39ace7;
        }

    </style>

</head>
<body>


    <div id="waveform"></div>

    <script>
        var wavesurfer = WaveSurfer.create({
            container: '#waveform',
            waveColor: 'grey',
            backend: 'MediaElement',
            mediaType:'audio',
            progressColor: 'red',
            normalize: true,
            barWidth: 2
        });


        wavesurfer.load('http://ia902606.us.archive.org/35/items/shortpoetry_047_librivox/song_cjrg_teasdale_64kb.mp3');
        wavesurfer.on('ready', function () {
            wavesurfer.play();
        });
    </script>


    <section style="background-color: white;height: 300px;">

        <div class="container" style="margin-left: 350px;">
            <div class="card" style="width:200px;background-color: white;border: none;text-align: left;display: inline">
                {% for working_music in working_music_list %}
                    <button class="my-transparent-button" onclick="location.href='{% url 'create_music:working_music_detail' working_music.id %}'" style="float: left">
                        <img class="card-img-top" id="{{ working_music.title }}" src="{{ working_music.album_jacket.url }}" alt="Card image" style="width:200px;height: 200px;">
                        <a href="{% url 'completed_music_detail' working_music.id %}">
                            <div class="card-body">
                                <h6 class="card-title" style="color: black">{{ working_music.title }}</h6>
                            </div>
                        </a>
                    </button>
                {% endfor %}
            </div>

        </div>

    </section>

<a href="{% url 'create_music:create_music' %}">만들기</a>
<br>
{% for working_music in working_music_list %}
    <li><a href="{% url 'create_music:working_music_detail' working_music.id %}">{{ working_music.title }}</a></li>
{% endfor %}
{% endblock %}



</body>
</html>